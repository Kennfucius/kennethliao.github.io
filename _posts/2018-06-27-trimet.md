---
title: "TriMet Rail Delay Study"
date: 2018-06-27
tags: [exploratory analysis, visualization, transportation, data science]
header:
  overlay_image: "/images/trimet-at-night-small.jpg"
  overlay_filter: 0.5
  teaser: "/images/trimet-at-night-small.jpg"
excerpt: "TriMet Rail System, Data Science"
mathjax: "true"
---
# Summary
## Objective
In this study I look at vehicle delay data for the TriMet rail system in Portland, OR. My objective is to answer 3 important questions:

  1. Which routes have the most delays?
  2. Which routes have the longest delays?
  3. Which stops have the longest delays?

The data sources as well as other resources can be found in the resources section at the end of this post.

## Findings
  1. The blue line had by far the most delays in the 6 month period I looked at.
      a. Interestingly, in terms of percentage of time the line was delayed, the blue line was 4th on the list.

## Background
TriMet collects data from all of its vehicles throughout the day. This data contains information about the vehicle's location, schedule info, and [more](https://developer.trimet.org/ws_docs/vehicle_locations_ws.shtml). Most importantly, the vehicle's net delay along its route is reported at every stop. Here, I look at 6 months worth of vehicle delay data spanning January 2017 to June 2017. For more information on the original data source, please see [TriMet's developer resource page](https://developer.trimet.org/).

-----

I start by plotting a bar chart showing the number of times a vehicle reported it was delayed in the 6 month window of interest.

<div>
    <a href="https://plot.ly/~Kennfucius/17/?share_key=umeM5vGCuimp3hIIY3Vn2m" target="_blank" title="delay-count-route" style="display: block; text-align: center;"><img src="https://plot.ly/~Kennfucius/17.png?share_key=umeM5vGCuimp3hIIY3Vn2m" alt="delay-count-route" style="max-width: 100%;width: 800px;"  width="800" onerror="this.onerror=null;this.src='https://plot.ly/404.png';" /></a>
    <script data-plotly="Kennfucius:17" sharekey-plotly="umeM5vGCuimp3hIIY3Vn2m" src="https://plot.ly/embed.js" async></script>
</div>
Figure 1. Total number of delays over a 6-month period by rail line.

Figure 1 above shows


<div>
    <a href="https://plot.ly/~Kennfucius/25/?share_key=ghNfWz7xVWc5SvhMr6jPIX" target="_blank" title="delay-route-norm" style="display: block; text-align: center;"><img src="https://plot.ly/~Kennfucius/25.png?share_key=ghNfWz7xVWc5SvhMr6jPIX" alt="delay-route-norm" style="max-width: 100%;width: 600px;"  width="600" onerror="this.onerror=null;this.src='https://plot.ly/404.png';" /></a>
    <script data-plotly="Kennfucius:25" sharekey-plotly="ghNfWz7xVWc5SvhMr6jPIX" src="https://plot.ly/embed.js" async></script>
</div>
Figure 2. Percentage of time a rail line is delayed.


### Delay Map using Mapbox and Plotly

  <div>
      <a href="https://plot.ly/~Kennfucius/31/?share_key=XEydYou6iRwx6YdrMN04VX" target="_blank" title="TrimetDelayMap" style="display: block; text-align: center;"><img src="https://plot.ly/~Kennfucius/31.png?share_key=XEydYou6iRwx6YdrMN04VX" alt="TrimetDelayMap" style="max-width: 100%;width: 800px;"  width="800" onerror="this.onerror=null;this.src='https://plot.ly/404.png';" /></a>
      <script data-plotly="Kennfucius:31" sharekey-plotly="XEydYou6iRwx6YdrMN04VX" src="https://plot.ly/embed.js" async></script>
  </div>

Here's some math:

$$z=x+y$$

You can also put it inline $$z=x+y$$
